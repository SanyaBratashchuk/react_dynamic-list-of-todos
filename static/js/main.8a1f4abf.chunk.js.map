{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","helpers/wrappers.ts","index.tsx"],"names":["TodoList","React","memo","todos","selectUser","selectedUser","changeQuery","changeSelectedStatus","randomizeTodos","className","type","placeholder","onChange","event","target","value","onClick","map","id","title","completed","userId","classNames","checked","readOnly","wait","delay","Promise","resolve","setTimeout","getUser","a","fetch","then","response","json","CurrentUser","clearUser","useState","user","setUser","hasError","setHasError","useEffect","loadedUser","catch","name","email","phone","ariaLabel","App","setTodos","selectedUserId","setSelectedUserId","appliedQuery","setAppliedQuery","selectedStatus","setSelectedStatus","loadedTodos","applyQuery","useCallback","f","timerId","clearTimeout","args","debounce","shuffleTodos","shuffled","i","length","currTodo","randomIndex","Math","floor","random","filtredTodos","useMemo","filter","todo","toLowerCase","startsWith","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8a1f4abf.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport React from 'react';\nimport { Todo } from '../../types';\nimport './TodoList.scss';\n\nexport const TodoList = React.memo<Props>(\n  ({\n    todos,\n    selectUser,\n    selectedUser,\n    changeQuery,\n    changeSelectedStatus,\n    randomizeTodos,\n  }) => {\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n        <div className=\"TodoList__control\">\n          <input\n            className=\"TodoList__search\"\n            type=\"text\"\n            placeholder=\"search\"\n            onChange={event => {\n              changeQuery(event.target.value);\n            }}\n          />\n          <select className=\"TodoList__select\" onChange={changeSelectedStatus}>\n            <option value=\"all\">All</option>\n            <option value=\"active\">Active</option>\n            <option value=\"completed\">Completed</option>\n          </select>\n          <button\n            type=\"button\"\n            className=\"button\"\n            onClick={randomizeTodos}\n          >\n            Randomize\n          </button>\n        </div>\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {todos.map(({\n              id,\n              title,\n              completed,\n              userId,\n            }) => (\n              <li\n                key={id}\n                className={classNames('TodoList__item', {\n                  'TodoList__item--checked': completed,\n                  'TodoList__item--unchecked': !completed,\n                })}\n              >\n                <label>\n                  <input type=\"checkbox\" checked={completed} readOnly />\n                  <p>{title}</p>\n                </label>\n\n                <button\n                  className={classNames('TodoList__user-button', 'button', {\n                    'TodoList__user-button--selected': userId === selectedUser,\n                  })}\n                  type=\"button\"\n                  onClick={() => {\n                    selectUser(userId);\n                  }}\n                >\n                  User&nbsp;\n                  {userId}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  },\n\n);\n\ninterface Props {\n  todos: Todo[],\n  selectUser: (userId: number) => void,\n  selectedUser: number,\n  changeQuery: (...args: unknown[]) => void,\n  changeSelectedStatus: (event: React.ChangeEvent<HTMLSelectElement>) => void,\n  randomizeTodos: () => void,\n}\n","import { Todo, User } from './types';\n\nconst todosUrl = 'https://mate.academy/students-api/todos';\nconst UsersUrl = 'https://mate.academy/students-api/users/';\n\nexport const getTodos = (): Promise<Todo[]> => {\n  return fetch(todosUrl)\n    .then(response => response.json());\n};\n\nconst wait = (delay:number) => {\n  return new Promise(resolve => setTimeout(resolve, delay));\n};\n\nexport const getUser = async (userId:number): Promise<User> => {\n  await wait(2000);\n\n  return fetch(`${UsersUrl}${userId}`).then(response => response.json());\n};\n","/* eslint-disable no-nested-ternary */\nimport React, { useEffect, useState } from 'react';\nimport { Triangle } from 'react-loader-spinner';\nimport { getUser } from '../../api';\nimport { User } from '../../types';\nimport './CurrentUser.scss';\n\nexport const CurrentUser: React.FC<Props> = ({ userId, clearUser }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [hasError, setHasError] = useState<boolean>(false);\n\n  useEffect(() => {\n    setHasError(false);\n    setUser(null);\n    getUser(userId)\n      .then(loadedUser => setUser(loadedUser))\n      .catch(() => setHasError(true));\n  }, [userId]);\n\n  return (\n    <div className=\"CurrentUser\">\n      {user ? (\n        <>\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              Selected user:\n              {user.id}\n            </span>\n          </h2>\n\n          <h3 className=\"CurrentUser__name\">{user.name}</h3>\n          <p className=\"CurrentUser__email\">{user.email}</p>\n          <p className=\"CurrentUser__phone\">{user.phone}</p>\n\n          <button\n            className=\"button CurrentUser__clear\"\n            type=\"button\"\n            onClick={clearUser}\n          >\n            Clear\n          </button>\n        </>\n      ) : (!hasError ? <Triangle ariaLabel=\"loading-indicator\" />\n        : 'Error: No user information was founded')}\n    </div>\n  );\n};\n\ninterface Props {\n  userId: number,\n  clearUser: () => void,\n}\n","import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\nimport { Todo } from './types';\nimport { debounce } from './helpers/wrappers';\n\nconst App: React.FC = () => {\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [selectedUserId, setSelectedUserId] = useState(0);\n  const [appliedQuery, setAppliedQuery] = useState('');\n  const [selectedStatus, setSelectedStatus] = useState('all');\n\n  useEffect(() => {\n    getTodos().then(loadedTodos => setTodos(loadedTodos));\n  }, []);\n\n  const handleSelect = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setSelectedStatus(event.target.value);\n  };\n\n  const applyQuery = useCallback(\n    debounce(setAppliedQuery, 1000),\n    [],\n  );\n\n  const selectUser = (userId: number) => {\n    setSelectedUserId(userId);\n  };\n\n  const clear = () => {\n    setSelectedUserId(0);\n  };\n\n  const getFiltredTodos = () => {\n    return todos.filter(todo => {\n      switch (selectedStatus) {\n        case 'completed':\n          return todo.title.toLowerCase().startsWith(appliedQuery)\n            && todo.completed;\n        case 'active':\n          return todo.title.toLowerCase().startsWith(appliedQuery)\n            && !todo.completed;\n        default:\n          return todo.title.toLowerCase().startsWith(appliedQuery);\n      }\n    });\n  };\n\n  const shuffleTodos = useCallback(() => {\n    const shuffled = [...todos];\n\n    for (let i = shuffled.length - 1; i > 0; i -= 1) {\n      const currTodo = shuffled[i];\n      const randomIndex = Math.floor(Math.random() * (i + 1));\n\n      shuffled[i] = shuffled[randomIndex];\n      shuffled[randomIndex] = currTodo;\n    }\n\n    setTodos(shuffled);\n  }, [todos]);\n\n  const filtredTodos = useMemo(\n    getFiltredTodos,\n    [appliedQuery, selectedStatus, todos],\n  );\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList\n          todos={filtredTodos}\n          selectUser={selectUser}\n          selectedUser={selectedUserId}\n          changeQuery={applyQuery}\n          changeSelectedStatus={handleSelect}\n          randomizeTodos={shuffleTodos}\n        />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser userId={selectedUserId} clearUser={clear} />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","/* eslint-disable @typescript-eslint/ban-types */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nexport const debounce = (f:Function, delay:number) => {\n  let timerId: number;\n\n  return (...args:any[]) => {\n    clearTimeout(timerId);\n    timerId = setTimeout(f, delay, ...args);\n  };\n};\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}